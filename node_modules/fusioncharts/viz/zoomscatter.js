import ScatterBase from'./scatterbase';import ZoomScatterDataset from'../_internal/datasets/zoomscatter';import{pluck,pluckNumber}from'../_internal/lib/lib';import{symbolList}from'../_internal/tool-box/iconsymbol';import{getDep}from'../_internal/dependency-manager';import{priorityList}from'../_internal/schedular';let _manageInteractiveSpace,UNDEF,Raphael=getDep('redraphael','plugin');Raphael.addSymbol(symbolList);class ZoomScatter extends ScatterBase{static getName(){return'ZoomScatter'}constructor(){super(),this.highlightEnabled=!1,this.isXY=!0,this.zoom=!0,this.zoomX=!0,this.zoomY=!0,this.defaultZeroPlaneHighlighted=!1}getName(){return'ZoomScatter'}__setDefaultConfig(){super.__setDefaultConfig();let a=this.config;a.friendlyName='ZoomScatter Chart',a.defaultDatasetType='zoomscatter',a.enablemousetracking=!0,a.animation=0}configureAttributes(a){var b,c=this,d=c.config;super.configureAttributes(a),b=c.getFromEnv('dataSource').chart,d.stepZoom=400/(100-pluckNumber(b.stepzoom,25)),2>=d.stepZoom&&(d.stepZoom=1.9),d.showToolBarButtonToolText=pluckNumber(b.showtoolbarbuttontooltext,1),d.btnResetChartToolText=pluck(b.btnresetcharttooltext,'Reset Chart'),d.btnZoomOutToolText=pluck(b.btnzoomouttooltext,'Zoom out to previous level'),d.btnZoomInToolText=pluck(b.btnzoomintooltext,'<strong>Zoom in</strong><br/>Or double-click on plot to zoom-in'),d.btnSelectZoomToolText=pluck(b.btnselectzoomtooltext,'<strong>Select a region to zoom-in</strong><br/>Click to enable pan mode.'),d.btnPanToolText=pluck(b.btnpantooltext,'<strong>Drag to move across chart</strong><br/>Click to enable select-zoom mode.')}static includeInputOptions(){return['DragPan','DragZoomIn','ZoomResetButton','ZoomOutButton','ZoomInButton','DbTapZoom','PinchZoom']}_manageInteractiveSpace(){var a,b,c,d,e,f,g,h=Math.max,i=this,j=i.config,k=i.getChildren(),l=k.xAxis[0],m=k.yAxis[0],n=k.canvas&&k.canvas[0],o=n.config,p=o.canvasBorderWidth,q=o.canvasPaddingTop,r=o.canvasPaddingBottom,s=o.canvasPadding||0,t=o.canvasPaddingLeft,u=o.canvasPaddingRight,v=j.xAxisSpaceAllocation,w=j.yAxisSpaceAllocation[0].spaceTaken;d=j.availableHeight,b=j.xAxisSpaceAllocation=l.placeAxis(d+v.bottom),e=j.availableWidth,c=j.yAxisSpaceAllocation[0].spaceTaken=m.placeAxis(e+w.left),a=b.bottom-v.bottom,g=c.left-w.left,a&&i._allocateSpace({bottom:a}),g&&i._allocateSpace({left:g}),l&&l.setAxisDimention({x:j.canvasLeft+h(t,s),y:j.canvasBottom+p,opposite:j.canvasTop-p,axisLength:j.canvasWidth-h(t,s)-h(u,s)}),f=j.canvasLeft-p,m&&m.setAxisDimention({x:f,y:j.canvasTop+q,axisLength:j.canvasHeight-q-r}),(a||g)&&n.asyncDraw()}getInputConfigurations(){var a=this,b=a.config,c=function(){a.addJob('spaceManage',function(){a._manageInteractiveSpace()},priorityList.configure)},d={dragZoomIn:{scaleX:!0,scaleY:!0,boxStyle:{"stroke-width":1,stroke:'red',fill:'#00FF00',opacity:.2,cursor:'ne-resize'},dragendFn:c,tooltext:b.btnSelectZoomToolText,zoomDecimalLimit:2},zoomResetButton:{tooltext:b.btnResetChartToolText,hookFn:c},zoomOutButton:{tooltext:b.btnZoomOutToolText,hookFn:c},zoomInButton:{tooltext:b.btnZoomInToolText,stepzoom:b.stepZoom,zoomDecimalLimit:2,hookFn:c},dragPan:{tooltext:b.btnPanToolText},dbTapZoom:{stepzoom:b.stepZoom,zoomDecimalLimit:2,hookFn:c},pinchZoom:{zoomDecimalLimit:2}};return d}_checkInvalidSpecificData(){let a=this.getFromEnv('dataSource'),b=a.dataset;if(!b)return!0}getDatasets(){var a=this,b=[];return a.iterateComponents(a=>{a.getType&&'dataset'===a.getType()&&b.push(a)}),b}getDSdef(){return ZoomScatterDataset}getDSGroupdef(){return UNDEF}}_manageInteractiveSpace=ZoomScatter.prototype._manageInteractiveSpace;export default ZoomScatter;export{_manageInteractiveSpace};